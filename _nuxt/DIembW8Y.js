import{_ as x,c as s,o as e,e as a,d as L,r as v,a as w,b as q,D as z,q as f,z as y,u as t,h as d,T as j,A as I,t as T,B as H,f as O,F as k,p as C,x as Q}from"./De-1Iws4.js";import{D as G,u as J}from"./C1MrpQYM.js";import{u as K,g as W,a as X,_ as Y}from"./BxnpGhmM.js";import{_ as Z}from"./3ck_WIst.js";import"./k5diQsFh.js";import"./Cz4rWf9F.js";import"./CB4_0chu.js";const ee=""+new URL("cover.DqfjyVLp.webp",import.meta.url).href,te={},ne={class:"error"};function ae(g,r){return e(),s("div",ne,r[0]||(r[0]=[a("h1",null,"Что-то пошло не так...",-1),a("h3",null,"Проверьте подключение к интернету!",-1)]))}const oe=x(te,[["render",ae],["__scopeId","data-v-d4eec7f6"]]),se={class:"carousel"},ce={key:0,class:"carousel__container"},ie={key:0},re={class:"carousel-container"},le=["alt"],_e={class:"carousel__container-description"},ue={class:"carousel__container-description-heading"},de={class:"carousel__container-description-price"},me={class:"carousel__navigation"},pe=["onClick"],b=5,ve=3e3,ge=L({__name:"MainPageCarousel",setup(g){const{navigateToPage:r}=W(),c=v(1),o=v(null),i=v(null),_=v(!0),h=n=>n===c.value,l=()=>{_.value=!document.hidden,_.value?(D(),A()):P()},E=n=>{c.value=n,D()},$=n=>{i.value||(i.value=n),n-i.value>=ve&&(V(),i.value=n),o.value=requestAnimationFrame($)},V=()=>{c.value=c.value===b?1:c.value+1},A=()=>{o.value&&cancelAnimationFrame(o.value),i.value=null,o.value=requestAnimationFrame($)},D=()=>{i.value=null},P=()=>{o.value&&(cancelAnimationFrame(o.value),o.value=null)},{isLoading:S,errorLoading:F,data:M,fetchByURL:N}=K("https://fakestoreapi.com/products"),u=w(()=>{var n;return(n=M.value)==null?void 0:n[c.value-1]});return q(async()=>{await N(),document.addEventListener("visibilitychange",l),A()}),z(()=>{document.removeEventListener("visibilitychange",l),P()}),(n,m)=>{const R=H,U=G;return e(),s("div",se,[t(F)?(e(),s("div",ce,[t(S)?(e(),y(U,{key:1})):(e(),s("div",ie,[a("div",re,[d(j,{tag:"div",name:"slide"},{default:I(()=>[t(u)?(e(),s("div",{key:t(u).id,class:"carousel__container-card"},[a("img",{class:"carousel__container-photo",src:ee,alt:t(u).title,loading:"eager",fetchpriority:"high"},null,8,le),a("div",_e,[a("h1",ue,T(t(u).title),1),a("h2",de," $"+T(t(u).price),1),d(R,{onClick:m[0]||(m[0]=p=>t(r)(t(u).id)),variant:"special",size:"xl"},{default:I(()=>m[1]||(m[1]=[O("View product ")])),_:1})])])):f("",!0)]),_:1})]),a("nav",me,[a("ul",null,[(e(),s(k,null,C(b,p=>a("li",{key:p,class:Q({activePage:h(p)}),onClick:Ce=>E(p)},null,10,pe)),64))])])]))])):f("",!0),t(F)?f("",!0):(e(),y(oe,{key:1,class:"error"}))])}}}),he=x(ge,[["__scopeId","data-v-7e8e4249"]]),fe={class:"catalog-latest"},B=6,ye=L({__name:"CatalogLatest",setup(g){const{displayedItems:r,isLoading:c}=J(B);return(o,i)=>{const _=X,h=Y;return e(),s("div",null,[a("div",fe,[t(c)?(e(),s(k,{key:0},C(B,l=>d(_,{key:`skeleton-${l}`})),64)):(e(!0),s(k,{key:1},C(t(r),l=>(e(),y(h,{key:l.id,product:l},null,8,["product"]))),128))])])}}}),ke=x(ye,[["__scopeId","data-v-ca4ed270"]]),Ie=L({__name:"MainPage",setup(g){return(r,c)=>{const o=he,i=Z,_=ke;return e(),s("div",null,[d(o),d(i),d(_)])}}});export{Ie as default};
